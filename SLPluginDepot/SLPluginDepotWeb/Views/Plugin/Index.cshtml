@model IEnumerable<SLPluginDepotModels.Models.Plugin>

@{
    ViewData["Title"] = "Plugin Browser";
}

<h2>Search for Plugins in here!</h2>

<!-- Search Bar -->
<form method="get" asp-controller="Plugin" asp-action="Search" class="mb-4">
    <div class="input-group">
        <input type="text" name="query" class="form-control" placeholder="Enter plugin name..." />
        <button type="submit" class="btn btn-primary">Search</button>
    </div>
</form>

<!-- Display Search Results if any -->
@if (Model != null && Model.Any())
{
    <h4>Search Results:</h4>
    <div class="plugin-grid">
        @foreach (var plugin in Model)
        {
            <div class="plugin-card" style="background-image: url('@plugin.BackgroundImageUrl');">
                <div class="plugin-details">
                    <h3>@plugin.Name</h3>
                    <p>Rating: @plugin.Rating</p>
                </div>
            </div>
        }
    </div>
}
else if (Model != null && !Model.Any())
{
    <p>No plugins found matching your query.</p>
}

<!-- Button to Add New Plugin -->
<div class="mt-4">
    <form method="post" asp-controller="Plugin" asp-action="AddPlugin">
        <button type="submit" class="btn btn-success">Add New Plugin</button>
    </form>
</div>
